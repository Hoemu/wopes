# aLog 模块文档

## 日志介绍：

使用异步输入输出，格式 `format` 匹配字符串，自定义内存块，以缓冲队列存储信息，使用 `C++11` 对系统进行匹配（考虑到可能某些生产环境下并不支持高版本 C++）

启动日志需要单独调用控制器的 start 启动，配置和日志完全分离（避免日志输出和基本配置管理混乱）

### 建议使用：

在使用系统上建议使用静态库或者直接源代码导入，源代码导入引用 `acore.cmake`  文件，如下导入方式
```c++
include(${core_path}/acore.cmake) # 其中 core_path 为日志系统路径
```

如果使用库导入和常规库导入相同，需要注意目前 `find_package` 支持不完善，需要手动配置 `CMAKE_INSTALL_PREFIX` 参数，建议使用常规其他导入方法

## 功能日志

- 宏功能接口（已完成）
- 控制台输出（已完成）
- 输出日志文件（已完成）
- 文件设置接口（已完成）
    - 绝对路径匹配（已完成）
    - 相对路径匹配（已完成）
    - 其他（待完善...）
- 配置线程分离（已完成）
- 自定义输入（已完成）
- 输入格式化（已完成）
- 单例继承（已完成）
- 其他（待完善...）

单文件写入数据量如下：

 性能测试 | 测试值 |
| ----------- | ----------- |
| 写入速度（debug模式） | 70w logs/s~80w logs/s |
| 写入速度（release模式）| 164w logs/s |
| ns/op（release模式）| 4.2k ns/op |

如下图写入速度测试（release模式）：

![图片 speed ](../img/test-Release.png)

如下图 `ns/op` 测试（release模式）
![图片 ns/op](../img/test-Release-ns_op.png)

注：当使用多个文件同时写入，会导致性能下降